# PEED - Render Deployment Guide

This guide explains how to deploy the PEED (Little Turtle Trainer) application to Render.

## 🚀 Quick Deploy to Render

### Option 1: Using render.yaml (Recommended)

1. **Fork/Clone this repository to your GitHub account**

2. **Connect to Render:**
   - Go to [render.com](https://render.com)
   - Sign up/Login with your GitHub account
   - Click "New" → "Blueprint"
   - Connect your GitHub repository
   - Select this repository

3. **Deploy:**
   - Render will automatically detect the `render.yaml` file
   - Click "Apply" to deploy both the web service and database
   - Wait for deployment to complete (5-10 minutes)

### Option 2: Manual Setup

1. **Create PostgreSQL Database:**
   - Go to Render Dashboard
   - Click "New" → "PostgreSQL"
   - Name: `peed-db`
   - Plan: Free
   - Create database

2. **Create Web Service:**
   - Click "New" → "Web Service"
   - Connect your GitHub repository
   - Configure:
     - Name: `peed-app`
     - Environment: `Python 3`
     - Build Command: `./build.sh`
     - Start Command: `python main.py`

3. **Environment Variables:**
   Add these in the Render dashboard:
   ```
   FLASK_ENV=production
   USE_POSTGRES=true
   SECRET_KEY=<generate-random-key>
   CORS_ORIGINS=https://your-app-name.onrender.com
   ```

4. **Database Connection:**
   - Copy the database connection details from your PostgreSQL service
   - Add them as environment variables:
     - `DB_HOST`
     - `DB_PORT`
     - `DB_NAME`
     - `DB_USER`
     - `DB_PASSWORD`

## 📋 Project Structure

```
peed/
├── src/                    # Python backend source
│   ├── models/            # Database models
│   ├── routes/            # API routes
│   └── static/            # React frontend (built)
├── main.py                # Flask application entry point
├── requirements.txt       # Python dependencies
├── package.json          # Node.js dependencies
├── build.sh              # Build script for Render
├── render.yaml           # Render deployment configuration
└── README_RENDER.md      # This file
```

## 🔧 Build Process

The build process automatically:
1. Installs Python dependencies from `requirements.txt`
2. Installs Node.js dependencies from `package.json`
3. Builds the React frontend with `npm run build`
4. Copies built files to Flask's static directory

## 🌐 Features

- **Full-stack application:** React frontend + Flask backend
- **Database:** PostgreSQL with SQLite fallback
- **Health training:** Kegel exercise tracking system
- **User management:** Profile, achievements, statistics
- **Wallet integration:** Solana wallet connection
- **Responsive design:** Mobile-friendly interface

## 🔍 Health Check

The application includes a health check endpoint at `/health` that:
- Verifies database connection
- Returns application statistics
- Provides service status information

## 🛠️ Environment Variables

### Required for Production:
- `FLASK_ENV=production`
- `USE_POSTGRES=true`
- `SECRET_KEY` (auto-generated by Render)
- `CORS_ORIGINS` (your app's URL)

### Database (auto-configured when using render.yaml):
- `DB_HOST`
- `DB_PORT`
- `DB_NAME`
- `DB_USER`
- `DB_PASSWORD`

## 🐛 Troubleshooting

### Build Issues:
- Check that `build.sh` is executable
- Verify all dependencies are listed in `requirements.txt` and `package.json`
- Check build logs for specific error messages

### Database Issues:
- Ensure PostgreSQL service is running
- Verify database connection environment variables
- Check database logs for connection errors

### Frontend Issues:
- Verify React build completes successfully
- Check that built files are copied to `src/static/`
- Ensure CORS origins include your domain

## 📞 Support

For deployment issues:
1. Check Render service logs
2. Verify environment variables
3. Test health check endpoint: `https://your-app.onrender.com/health`

## 🎯 Next Steps

After successful deployment:
1. Visit your app URL to verify it's working
2. Test wallet connection functionality
3. Create user accounts and test training features
4. Monitor application performance in Render dashboard

---

**PEED - Little Turtle Trainer** 🐢  
*Making health training fun and accessible!* 